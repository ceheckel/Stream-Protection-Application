<!DOCTYPE html>

<html lan="en">
<head>
	<title>
		Oklahoma Blue Thumb / BluTeam Reference Document
	</title>
</head>

<body>

	<!-- User View -->
	<h1>User Experience</h1>
	<p>
	When the application loads, it asks the user for their devices location.  This is optional as it is only used to auto-fill some information.  If the user declines permission, they will have to input the information manually.<br/>
	<br/>
	From the first screen, the user will have a clear representation of what the app is as well as the owning company.  The only option from this screen is to create a "new log".<br/>
	<br/>
	The Application is broken down into eight pages:
	<ol>
		<li>Initial</li>
		<li>Site Conditions</li>
		<li>Observations</li>
		<li>Bacteria</li>
		<li>DO & pH</li>
		<li>Nitrogen</li>
		<li>Phosphorus</li>
		<li>Volunteers</li>
	</ol>
	A quick link to each page can be found in the side drawer which is accessible from the button in the top left of the screen denoted by three horizontal lines ("Hamburger" button).<br/>
	</p>

	<!-- Page 1 -->
	<h3>Initial / New Log</h3>
	<p>
	On the first page, the user will see several fields.  Some fields may already have information in them.  The fields are as follows:
	<ul>
		<li>Site Name</li>
			<p>The name of the location in which the sampler is currently taking data from</p>
		<li>WBID Number</li>
			<p>Unique identifier for ___. <br/>An example of this number is "OK121500-01-0050W"</p>
		<li>Legal</li>
			<p>One of the methods the user can use to define where ___<br/>
			An Example of this is "NW NW SW"</p>
		<li>County</li>
			<p>The county in which the sampled body of water is located.<br/>
			An example of this is "Washita County"</p>
		<li>Date</li>
			<p>The date at the time of sampling in MM/DD/YYYY format. <br/>
			An example of this is 12/31/2018</p>
		<li>Lat</li>
			<p>The North/South location with regards to the equator.  This field is measured to the ten-thousandth of a degree.<br/>
			An example of this is "47.1544"</p>
		<li>Long</li>
			<p>The East/West location with regards to the Prime Meridian.  This field is a measure to the ten-thousandth of a degree.<br/>
			An example of this is "-88.6471"</p>
		<li>Time</li>
			<p>The time at which the data sampling began.  The time format is dependent on which browser the user is working with</p>
		<li>Sampler 1</li>
			<p>The name of the user.<br/>
			An example of this is "Karla"</p>
		<li>Sampler 2</li>
			<p>See description for "Sampler 1".</p>
	</ul>
	At the bottom of every page, navigation buttons can be found.  These button commonly include "Next" and "Back".<br/>
	</p>


	<!-- Page 2 -->
	<h3>Site Conditions</h3>
	<p>
	On this page, the user can input values for: <br/>
	<ul>
		<li>Weather</li><p> from a drop-down menu</p>
		<li>Wind Speed</li><p> from a drop-down menu</p>
		<li>Wind Direction</li><p> from a drop-down menu</p>
		<li>Stream Stage</li><p> from a drop-down menu</p>
		<li>Secchi Depth</li><p> from an input field.  The values can be decimal values and units are fixed to "meters".</p>
		<li>Air Temperature</li><p> from an input field.  The values can be decimal values and units are fixed to "degrees Celcius".</p>
		<li>Water Temperature</li><p> from an input field.  The values can be decimal values and units are fixed to "degrees Celcius".</p>
	</ul>
	</p>


	<!-- Page 3 -->
	<h3>Observations</h3>
	<p>
	On this page, the user can confirm the presence of the following items: <br/>
	<ul>
		<li>Clean</li><p>There is no visible debris in or around the water body.</p>
		<li>Manure in Stream</li><p>Animal manure is present in or around the water body.</p>
		<li>Unsightly Color Appearance</li><p>The water within the body has an abnormal color.</p>
		<li>Foam / Scrum</li><p>A foamy or scrummy substance is present on top of the water surface.</p>
		<li>Floating Detritus</li><p>organic matter is present on or in the water body.</p>
		<li>Trash</li><p>inorganic, or human garbage, is present in or around the water body.</p>
		<li>Significant Algae</li><p>A large volume of algae is present on or in the water body.</p>
		<li>Fish Kill</li><p>An unnatural amount of fish corpses are found in or around the water body.</p>
		<li>Dead Animal(s) in Stream</li><p>Any number of non-fish animal corpses are found in or around the water body.</p>
		<li>Iron Precipitates</li><p>Iron compounds are found in the body water</p>
		<li>Siltation</li><p>A process by which water becomes dirty as a result of fine mineral particles in the water.</p>
		<li>Flow Alteration</li><p>is any change in the natural flow regime of a river or stream or water level of a lake or reservoir induced by human activities.</p>
		<li>Habitat Alteration</li><p>defined as a change in the particular environment or place where organisms or species tend to live.</p>
		<li>Oily Film / Grease</li><p>Oil or other oil-like substance covers the water body.</p>
		<li>Offensive Odor</li><p>The water body has an unnatural or strong scent.</p>
		<li>Exotic SPP</li><p>There are organism present in the water that is not commonly present.</p>
		<li>Recent Cattle Activity in Stream</li><p>Clear signs of livestock are visible around the water body.</p>
		<li>Other - Please Comment</li><p>Please provide additional observations in the text field below this option.</p>
	</ul>
	</p>


	<!-- Page 4 -->
	<h3>Bacteria Data</h3>
	<p>
	On this page, the user is first expected to perform tests on the samples they have collected from the water body.  The following information can then be input into the application: <br/>
	<ul>
		<li>Sample Volume</li><p>The amount of sample taken from the stream.  Units are fixed at milliliters</p>
		<li>Dish 1</li><p>E. Coli Violet Count is given in ___. <br/> Pink and Violet Count are given in ___.</p>
		<li>Dish 2</li><p>See "Dish 1"</p>
		<li>Dish 3</li><p>See "Dish 1"</p>
	</ul>
	</p>


	<!-- Page 5 -->
	<h3></h3>
	<p>
	On this page, the user can input values for: <br/>
	<ul>
		<li>DO Test 1</li><p>Dissolved Oxygen is the amount of gaseous oxygen (O2) dissolved in the water.  Its measurement is fixed at milligrams per liter.</p>
		<li>DO Test 2</li><p>See "DO Test 1"</p>
		<li>pH Test 1</li><p>a figure expressing the acidity or alkalinity of a solution on a logarithmic scale on which 7 is neutral, lower values are more acid, and higher values more alkaline.  Measurements are whole numbers and range from Zero to Fourteen.</p>
		<li>pH Test 2</li><p>See "pH Test 1"</p>
	</ul>
	</p>


	<!-- Page 6 -->
	<h3></h3>
	<p>
	On this page, the user can input values for: <br/>
	<ul>
		<li>Nitrate Test 1</li><p>(NO3) an essential source of nitrogen (N) for plants.</p>
		<li>Nitrate Test 2</li><p>See "Nitrate Test 1"</p>
		<li>Nitrite Test 1</li><p>(NO2) similar to nitrate, nitrite is a nitrogen-oxygen chemical units which combine with various organic and inorganic compounds </p>
		<li>Nitrite Test 2</li><p>See "Nitrite Test 1"</p>
		<li>Ammonia Test 1</li><p>the preferred nitrogen-containing nutrient for plant growth.<br/>
		Ammonia can be converted to nitrite (NO2 ) and nitrate (NO3) by bacteria, and then used by plants</p>
		<li>Ammonia Test 2</li><p>See "Ammonia Test 1"</p>
	</ul>
	</p>


	<!-- Page 7 -->
	<h3>Phosphorus and Chloride</h3>
	<p>
	On this page, the user can input values for: <br/>
	<ul>
		<li>Orthophosphorus: Blank</li><p>the filterable (soluble, inorganic) fraction of phosphorus, the form directly taken up by plant cells</p>
		<li>Orthophosphorus: Test 1</li><p>See above</p>
		<li>Orthophosphorus: Test 2</li><p>See above</p>
		<li>Chloride: Blank</li><p>Chloride is commonly found in streams and wastewater. Chloride may get into surface water from several waste sources</p>
		<li>Chloride: Test 1</li><p>see above</p>
		<li>Chloride: Test 2</li><p>see above</p>
	</ul>
	</p>


	<!-- Page 8 -->
	<h3>Voluteers</h3>
	<p>
	On this page, the user can input values for one or more volunteers by selecting the "add Volunteers" button or remove extra volunteers with the "remove volunteers" button.  For all displayed volunteers, the following iformation is require before submission: <br/>
	<ul>
		<li>Name</li><p>Similar to the name field from the first page.  This value is an identifier for the volunteer who filled out the log.</p>
		<li>Date</li><p>Similar to the date field from the first page.  This value is an identifier for the time at which the log was sampled.</p>
		<li>Activity</li><p></p>
		<li>Hours</li><p></p>
	</ul>
	Lastly, on this page there is a "send" button.  This button will send the log via email to the data administrator for the Blue Thumb Data team.<br/>After submitting, the application returns to the home page to allow the user to create a new log.<br/>
	</p>


	<!-- Developer View -->
	<h1>Developer Experience</h1>

	<p>

	</p>


	<div class="main.js">
		<div id="documentLoad">
			<h1>
				main.js
			</h1>
			
			<h3>
				When the App loads
			</h3>
			
			<p>
				When the application loads, it first obtains the current date and time.<br/>
				It then finds the location of the host device.<br/>
			</p>
			
			<h3>
				Submission
			</h3>
			
			<p>
				When the "Submit" button is pressed, the app gathers information supplied.  The information is as follows:<br/>
			</p>
			<ul>
				<p><b>New Log Page</b></p>
				<li>site_name</li>
				<li>wbid</li>
				<li>legal</li>
				<li>county</li>
				<li>date</li>
				<li>latitude</li>
				<li>longitude</li>
				<li>site_time</li>
				<li>sampler_1</li>
				<li>sampler_2</li>
				
				<p><b>Site Conditions</b></p>
				<li>weather</li>
				<li>wind_spd</li>
				<li>wind_dir</li>
				<li>stage</li>
				<li>stage_qual</li>
				<li>secchi_depth</li>
				<li>air_temp</li>
				<li>water_temp</li>
				
				<p><b>Observations Page</b></p>
				<li>clean</li>
				<li>manure</li>
				<li>unsightly</li>
				<li>foam</li>
				<li>detritus</li>
				<li>trash</li>
				<li>sig_algae</li>
				<li>fish_kill</li>
				<li>dead_animals</li>
				<li>iron_precip</li>
				<li>siltation</li>
				<li>flow_alter</li>
				<li>habitat_alter</li>
				<li>oil_film</li>
				<li>odor</li>
				<li>exotic_spp</li>
				<li>cattle</li>
				<li>other_obs</li>
				<li>obs_comments</li>
				<li>site_obs_none</li>
			</ul>
			
			<p>
				The app then sanitizes the data values listed above.
			</p>
			
			<ul>
				<p><b>Bacteria Data</b></p>
				<li>... This information is still pending ...</li>
				
				<p><b>Nitrogen Page</b></p>
				<li>do_1</li>
				<li>do_1_comments</li>
				<li>do_2</li>
				<li>do_2_comments</li>
				<li>ph_1</li>
				<li>ph_1_comments</li>
				<li>ph_2</li>
				<li>ph_2_comments</li>
				<li>nitrate_1</li>
				<li>nitrate_1_comments</li>
				<li>nitrate_2</li>
				<li>nitrate_2_comments</li>
				<li>nitrite_1</li>
				<li>nitrite_1_comments</li>
				<li>nitrite_2</li>
				<li>nitrite_2_comments</li>
				<li>ammonia_blank</li>
				<li>ammonia_blank_comments</li>
				<li>ammonia_1</li>
				<li>ammonia_1_comments</li>
				<li>ammonia_2</li>
				<li>ammonia_2_comments</li>
				
				<p><b>Phosporus and Chloride Page</b></p>
				<li>op_blank</li>
				<li>op_blank_comments</li>
				<li>op_1</li>
				<li>op_1_comments</li>
				<li>op_2</li>
				<li>op_2_comments</li>
				<li>chloride_blank</li>
				<li>chloride_1</li>
				<li>chloride_1_comments</li>
				<li>chloride_2</li>
				<li>chloride_2_comments</li>
				<li>date_row</li>
				<li>volunteer_row</li>
				<li>activity_row</li>
				<li>hours_row</li>
			</ul>
			
			<p>
				After gathering and sanitizing information given from the user, the application now constructs two CSVs,<br/> one is a volunteer list, the other is for data points.<br/>
				After the CSVs are created, the application prepares an ajax call to send an email to the scientists in Oklahoma.<br/>
				
			</p>
		</div>
		
		<div id="externalCalls">
			<h3>
				External Function Calls
			</h3>
			
			<h3>
				switchScreen(String);
			</h3>
			
			<p>
				function:<br/>
				&emsp;displays a subset of the data fields to give the illusion of navigating through separate pages.<br/>
				<br/>
				calls:<br/>
				&emsp;newLogBtn<br/>
				&emsp;&emsp;"New Log" button listener<br/>
				<br/>
				&emsp;navForwardBtn<br/>
				&emsp;&emsp;"Forward" navigation button listener.  This gets the ID of the current page, then increments the index of the page array.<br/>
				<br/>
				&emsp;navBackBtn<br/>
				&emsp;&emsp;"Back" navigation button listener.  This gets the ID of the current page, then decrements the index of the page array.<br/>
				<br/>
				&emsp;index.html<br/>
				&emsp;&emsp;called from side navigation bar for each page<br/>
			</p>
			
			<h3>
				openNav()
			</h3>
			
			<p>
				function:<br/>
				&emsp;displays a sidebar navigation menu<br/>
				<br/>
				calls:<br/>
				&emsp;called from 'index.html' in several locations<br/>
			</p>
			
			<h3>
				closeNav()
			</h3>
			
			<p>
				function:<br/>
				&emsp;hides the sidebar navigation menu<br/>
				<br/>
				calls:<br/>
				&emsp;called from 'switchScreen()'<br/>
				&emsp;called from 'index.html'<br/>
			</p>
		</div>
	</div>
	
	<div class="volunteer.js">
		<div id="documentLoad">
			<h1>
				volunteer.js
			</h1>
			
			<h3>
				When the App loads
			</h3>
			
			<p>
				The application adds a button listener to the "Add Volunteer" button.<br/>
				The listener obtains a count of the current number of listed volunteers (up to 10), then adds some html for each of the volunteers.<br/>
				The html creates fields for additional volunteer information.<br/>
				After creating the html tags, the application saves the updated volunteer count.<br/>
				<br/>
				The application now adds a button listener to the "Remove Volunteer" button.<br/>
				this listener gets the volunteer count and removes the most recently added volunteer (decrementing the volunteer count appropriately).<br/>
			</p>
		</div>
		
		<div id="externalCalls">
		
		</div>
	</div>
	
	<div class="sendMail.php">
		<div id="mail">
			<h2>
				"mail" class
			</h2>
			
			<h3>
				prepareAttachment($path) function
			</h3>
			
			<p>
				function:<br/>
				&emsp;Creates a file that contains the ajax request information<br/>
				<br/>
				params:<br/>
				&emsp;path the the file that will receive ajax information<br/>
				<br/>
				calls:<br/>
				&emsp;called from sendMail()<br/>
			</p>
			
			<h3>
				sendMail() function
			</h3>
			
			<p>
				function:<br/>
				&emsp;sets up the headers, addresses, receipients, and message for the email<br/>
				<br/>
				params:<br/>
				&emsp;$to:		email receipient<br/>
				&emsp;$subject:	subject of email<br/>
				&emsp;$content:	body of email<br/>
				&emsp;$path:	path to file containing ajax information<br/>
				&emsp;$cc:		'carbon copy' receipients in email<br/>
				&emsp;$bcc:		'black carbon copy' receipients in email<br/>
				&emsp;$_headers: <br/>
				<br/>
				calls:<br/>
				&emsp;call to mail()<br/>
				&emsp;called from php in current file<br/>
			</p>
		</div>
	</div>
</body>
</html>
